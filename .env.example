# ==========================================
# VEVURN POS SYSTEM - ENVIRONMENT TEMPLATE
# ==========================================
# 
# Copy this file to create your environment configurations:
# - Backend: Copy to /backend/.env
# - Frontend: Copy relevant sections to /frontend/.env.local
#
# ⚠️  SECURITY NOTICE:
# - Never commit real credentials to version control
# - Change all default secrets in production
# - Use strong, unique passwords and keys
#
# ==========================================

# ==========================================
# APPLICATION SETTINGS
# ==========================================
NODE_ENV=development
PORT=8000
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# ==========================================
# DATABASE CONFIGURATION (PostgreSQL)
# ==========================================
# Local Development:
# DATABASE_URL="postgresql://postgres:password@localhost:5432/vevurn_pos"
# 
# Production (Render/Cloud):
DATABASE_URL="postgresql://username:password@host:port/database"

# ==========================================
# REDIS CONFIGURATION (Caching & Sessions)
# ==========================================
# Local Development:
# REDIS_URL="redis://localhost:6379"
#
# Production (Cloud):
REDIS_URL="redis://username:password@host:port"

# ==========================================
# AUTHENTICATION & SECURITY
# ==========================================

# JWT Token Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-32-chars-minimum
JWT_REFRESH_SECRET=your-different-jwt-refresh-secret-change-this-in-production
JWT_EXPIRE=24h
REFRESH_TOKEN_EXPIRE=7d

# Better Auth Configuration
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-32-character-base64-encoded-secret-here
BETTER_AUTH_URL=http://localhost:8000

# Device Security & Encryption
DEVICE_SALT=your-device-fingerprint-salt-change-this-in-production
ENCRYPTION_KEY=your-encryption-key-32-chars-minimum-required

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ==========================================
# OAUTH PROVIDERS (Optional)
# ==========================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Microsoft OAuth
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# ==========================================
# FILE UPLOAD & STORAGE
# ==========================================
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=your-aws-region
AWS_S3_BUCKET=your-s3-bucket-name

# ==========================================
# EMAIL CONFIGURATION (SMTP)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM="Vevurn POS <noreply@vevurn.com>"

# ==========================================
# MOBILE MONEY INTEGRATION (MTN Rwanda)
# ==========================================

# MTN MoMo API Configuration
MOMO_BASE_URL="https://sandbox.momodeveloper.mtn.co.rw/collection"
MOMO_ENVIRONMENT="sandbox"
MOMO_TARGET_ENVIRONMENT="sandbox"

# MTN Subscription Keys
MOMO_SUBSCRIPTION_KEY="your-primary-subscription-key"
MOMO_SUBSCRIPTION_KEY_BACKUP="your-secondary-subscription-key"

# API User Credentials (Generated via MTN API)
MOMO_API_USER="your-generated-api-user-uuid"
MOMO_API_KEY="your-generated-api-key"

# Transaction Configuration
MOMO_CURRENCY="RWF"
MOMO_CALLBACK_URL="http://localhost:8000/api/mobile-money/webhook"

# ==========================================
# LOGGING & MONITORING
# ==========================================
LOG_LEVEL=info
LOG_TO_FILE=true

# Performance Monitoring
ENABLE_METRICS=true
PROMETHEUS_PORT=9090

# ==========================================
# RATE LIMITING
# ==========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==========================================
# EXTERNAL API KEYS (Optional)
# ==========================================
PAYMENT_GATEWAY_KEY=your-payment-gateway-key
NOTIFICATION_SERVICE_KEY=your-notification-service-key

# ==========================================
# FRONTEND SPECIFIC (for .env.local)
# ==========================================
# These should be added to /frontend/.env.local:

# Public API Endpoints (exposed to browser)
# NEXT_PUBLIC_API_URL=http://localhost:8000
# NEXT_PUBLIC_BETTER_AUTH_URL=http://localhost:8000

# ==========================================
# PRODUCTION OVERRIDES
# ==========================================
# When deploying to production, override these:
# NODE_ENV=production
# BETTER_AUTH_URL=https://your-backend-domain.com
# NEXT_PUBLIC_BETTER_AUTH_URL=https://your-backend-domain.com
# NEXT_PUBLIC_API_URL=https://your-backend-domain.com
# FRONTEND_URL=https://your-frontend-domain.com
# MOMO_BASE_URL="https://api.mtn.co.rw/collection" (for production MTN API)
# MOMO_ENVIRONMENT="mtncameroon" (or appropriate production environment)
